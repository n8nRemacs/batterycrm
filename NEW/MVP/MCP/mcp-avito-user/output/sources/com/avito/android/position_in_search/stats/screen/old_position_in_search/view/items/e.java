package com.avito.android.position_in_search.stats.screen.old_position_in_search.view.items;

import KV.a;
import Y61.k;
import Y61.l;
import android.content.Context;
import android.os.Handler;
import android.os.Looper;
import android.view.View;
import androidx.compose.runtime.internal.P;
import com.avito.android.R;
import com.avito.android.bottom_navigation.C28888j;
import com.avito.android.lib.design.tooltip.b;
import com.avito.android.lib.design.tooltip.i;
import com.avito.android.lib.design.tooltip.q;
import com.avito.android.lib.design.tooltip.r;
import com.avito.android.lib.design.tooltip.state.TooltipState;
import com.avito.android.util.C35835l0;
import kotlin.G0;
import kotlin.Metadata;
import kotlin.jvm.internal.C42822w;
import kotlin.jvm.internal.N;

/* compiled from: SearchPositionItemTooltip.kt */
@P
@Metadata(d1 = {"\u0000\f\n\u0002\u0018\u0002\n\u0002\u0018\u0002\n\u0002\b\u0002\b\u0000\u0018\u00002\u00020\u0001:\u0001\u0002¨\u0006\u0003"}, d2 = {"Lcom/avito/android/position_in_search/stats/screen/old_position_in_search/view/items/e;", "Landroid/view/View$OnAttachStateChangeListener;", "a", "_avito_position-in-search_stats_impl"}, k = 1, mv = {1, 9, 0}, xi = 48)
/* loaded from: classes15.dex */
public final class e implements View.OnAttachStateChangeListener {

    /* renamed from: f, reason: collision with root package name */
    public static final /* synthetic */ int f221018f = 0;

    /* renamed from: b, reason: collision with root package name */
    @k
    public final com.avito.android.inline_filters.dialog.group.item.double_input.e f221019b;

    /* renamed from: c, reason: collision with root package name */
    @k
    public final Handler f221020c;

    /* renamed from: d, reason: collision with root package name */
    @k
    public final com.avito.android.lib.design.tooltip.k f221021d;

    /* renamed from: e, reason: collision with root package name */
    @k
    public TooltipState f221022e;

    /* compiled from: SearchPositionItemTooltip.kt */
    @Metadata(d1 = {"\u0000\u0014\n\u0002\u0018\u0002\n\u0002\u0010\u0000\n\u0002\b\u0002\n\u0002\u0010\t\n\u0002\b\u0003\b\u0086\u0003\u0018\u00002\u00020\u0001B\t\b\u0002¢\u0006\u0004\b\u0002\u0010\u0003R\u0014\u0010\u0005\u001a\u00020\u00048\u0002X\u0082T¢\u0006\u0006\n\u0004\b\u0005\u0010\u0006¨\u0006\u0007"}, d2 = {"Lcom/avito/android/position_in_search/stats/screen/old_position_in_search/view/items/e$a;", "", "<init>", "()V", "", "SHOWING_TOOLTIP_TIME_MS", "J", "_avito_position-in-search_stats_impl"}, k = 1, mv = {1, 9, 0}, xi = 48)
    public static final class a {
        public /* synthetic */ a(C42822w c42822w) {
            this();
        }

        public a() {
        }
    }

    /* compiled from: SearchPositionItemTooltip.kt */
    @Metadata(d1 = {"\u0000\b\n\u0002\u0018\u0002\n\u0002\b\u0003\u0010\u0003\u001a\u00020\u0000H\n¢\u0006\u0004\b\u0001\u0010\u0002"}, d2 = {"Lkotlin/G0;", "invoke", "()V", "<anonymous>"}, k = 3, mv = {1, 9, 0})
    public static final class b extends N implements Y41.a<G0> {

        /* renamed from: l, reason: collision with root package name */
        public static final b f221023l = new b();

        public b() {
            super(0);
        }

        @Override // Y41.a
        public final /* bridge */ /* synthetic */ G0 invoke() {
            return G0.f406611a;
        }
    }

    /* compiled from: SearchPositionItemTooltip.kt */
    @Metadata(d1 = {"\u0000\b\n\u0002\u0018\u0002\n\u0002\b\u0003\u0010\u0003\u001a\u00020\u0000H\n¢\u0006\u0004\b\u0001\u0010\u0002"}, d2 = {"Lkotlin/G0;", "invoke", "()V", "<anonymous>"}, k = 3, mv = {1, 9, 0})
    public static final class c extends N implements Y41.a<G0> {

        /* renamed from: l, reason: collision with root package name */
        public static final c f221024l = new c();

        public c() {
            super(0);
        }

        @Override // Y41.a
        public final /* bridge */ /* synthetic */ G0 invoke() {
            return G0.f406611a;
        }
    }

    /* compiled from: SearchPositionItemTooltip.kt */
    @Metadata(d1 = {"\u0000\b\n\u0002\u0018\u0002\n\u0002\b\u0003\u0010\u0003\u001a\u00020\u0000H\n¢\u0006\u0004\b\u0001\u0010\u0002"}, d2 = {"Lkotlin/G0;", "invoke", "()V", "<anonymous>"}, k = 3, mv = {1, 9, 0})
    public static final class d extends N implements Y41.a<G0> {
        public d() {
            super(0);
        }

        @Override // Y41.a
        public final G0 invoke() {
            int i12 = e.f221018f;
            e.this.c();
            return G0.f406611a;
        }
    }

    /* compiled from: SearchPositionItemTooltip.kt */
    @Metadata(d1 = {"\u0000\b\n\u0002\u0018\u0002\n\u0002\b\u0003\u0010\u0003\u001a\u00020\u0000H\n¢\u0006\u0004\b\u0001\u0010\u0002"}, d2 = {"Lkotlin/G0;", "invoke", "()V", "<anonymous>"}, k = 3, mv = {1, 9, 0})
    /* renamed from: com.avito.android.position_in_search.stats.screen.old_position_in_search.view.items.e$e, reason: collision with other inner class name */
    public static final class C6677e extends N implements Y41.a<G0> {
        public C6677e() {
            super(0);
        }

        @Override // Y41.a
        public final G0 invoke() {
            int i12 = e.f221018f;
            e.this.c();
            return G0.f406611a;
        }
    }

    static {
        new a(null);
    }

    public e(@k View view, @k q qVar) {
        this.f221019b = new com.avito.android.inline_filters.dialog.group.item.double_input.e(this, 19);
        this.f221020c = new Handler(Looper.getMainLooper());
        Context context = view.getContext();
        com.avito.android.lib.design.tooltip.k kVar = new com.avito.android.lib.design.tooltip.k(context, 0, 0, 6, null);
        kVar.setOnDismissListener(new C28888j(this, 3));
        this.f221021d = kVar;
        this.f221022e = new TooltipState(qVar, false, null, null, null, null, null, null, null, null, false, null, view, TooltipState.State.f181286c, 3068, null);
        view.setClickable(true);
        view.setFocusable(true);
        view.setOnClickListener(new com.avito.android.order.feature.c(this, 27));
        view.addOnAttachStateChangeListener(this);
        a.C0572a c0572a = KV.a.f9464v;
        int iJ2 = C35835l0.j(R.attr.tooltipSmall, context);
        c0572a.getClass();
        kVar.c(KV.a.a(a.C0572a.b(iJ2, context), -2, 0, 0, 2097150));
    }

    public final void b(@l String str) {
        if (str == null || str.length() == 0) {
            c();
            return;
        }
        TooltipState tooltipStateA = TooltipState.a(this.f221022e, null, str, null, null, 16367);
        this.f221022e = tooltipStateA;
        if (tooltipStateA.f181284n == TooltipState.State.f181285b) {
            d();
        }
    }

    public final void c() {
        this.f221020c.removeCallbacks(this.f221019b);
        TooltipState tooltipStateA = TooltipState.a(this.f221022e, b.f221023l, null, c.f221024l, TooltipState.State.f181286c, 6139);
        this.f221022e = tooltipStateA;
        this.f221021d.b(tooltipStateA);
    }

    public final void d() {
        Handler handler = this.f221020c;
        com.avito.android.inline_filters.dialog.group.item.double_input.e eVar = this.f221019b;
        handler.removeCallbacks(eVar);
        CharSequence charSequence = this.f221022e.f181275e;
        if (charSequence == null || charSequence.length() == 0) {
            return;
        }
        TooltipState tooltipStateA = TooltipState.a(this.f221022e, new d(), null, new C6677e(), TooltipState.State.f181285b, 6139);
        this.f221022e = tooltipStateA;
        this.f221021d.b(tooltipStateA);
        handler.postDelayed(eVar, 3500L);
    }

    @Override // android.view.View.OnAttachStateChangeListener
    public final void onViewDetachedFromWindow(@k View view) {
        c();
    }

    public /* synthetic */ e(View view, q qVar, int i12, C42822w c42822w) {
        this(view, (i12 & 2) != 0 ? new r.a(new i.c(new b.c())) : qVar);
    }

    @Override // android.view.View.OnAttachStateChangeListener
    public final void onViewAttachedToWindow(@k View view) {
    }
}
