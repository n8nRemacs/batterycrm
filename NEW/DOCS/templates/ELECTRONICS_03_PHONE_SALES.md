# ВЕРТИКАЛЬ: Продажа смартфонов

> Шаблон для обсуждения и финализации

---

## 1. БАЗОВАЯ ИНФОРМАЦИЯ

| Поле | Значение |
|------|----------|
| **Домен** | `electronics` |
| **Код вертикали** | `phone_sales` |
| **Название** | `Продажа смартфонов` |
| **Описание** | `Магазины, онлайн-продажи, б/у телефоны` |

**Типичный бизнес:**
```
- Салоны связи
- Онлайн-магазины телефонов
- Перекупщики б/у техники
- Ломбарды (продажа)
- Маркетплейсы
```

---

## 2. VERTICAL CONTEXT TYPES

*В дополнение к domain context types: device, device_condition, price_expectation*

### Context Type 1: purchase_intent

| Поле | Значение |
|------|----------|
| **Код** | `purchase_intent` |
| **Название** | `Намерение покупки` |
| **Описание** | `Что ищет клиент, готовность к покупке` |
| **Tier** | [x] optima |

**Что извлекаем:**
```
Тип намерения (конкретная модель, по бюджету, сравнение)
Конкретная модель если указана
Готовность к покупке (высокая/средняя/низкая)
Это замена старого телефона?
```

**Возможные значения intent:**
| Код | Описание | Примеры от клиента |
|-----|----------|-------------------|
| `specific_model` | Ищет конкретную модель | "нужен iPhone 15 Pro" |
| `brand_preference` | Ищет бренд | "хочу Samsung", "только Apple" |
| `budget_search` | Ищет в бюджете | "до 30 тысяч", "недорогой" |
| `feature_search` | Ищет по характеристикам | "с хорошей камерой", "для игр" |
| `comparison` | Сравнивает варианты | "что лучше iPhone или Samsung" |
| `just_looking` | Просто смотрит | "что у вас есть", "покажите" |
| `ready_to_buy` | Готов купить | "хочу заказать", "оформляйте" |

**Структура результата (JSON):**
```json
{
  "intent": "string",
  "specific_model": "string | null",
  "readiness": "high | medium | low",
  "is_replacement": "boolean | null"
}
```

---

### Context Type 2: requirements

| Поле | Значение |
|------|----------|
| **Код** | `requirements` |
| **Название** | `Требования к телефону` |
| **Описание** | `Что важно клиенту` |
| **Tier** | [x] optima |

**Что извлекаем:**
```
Приоритеты (камера, батарея, производительность)
Для чего нужен телефон (игры, работа, фото)
Особые требования (NFC, водозащита)
Что НЕ нужно
```

**Возможные значения priorities:**
| Код | Описание | Примеры |
|-----|----------|---------|
| `camera` | Камера | "для фото", "хорошая камера" |
| `battery` | Батарея | "долго держит", "на весь день" |
| `performance` | Производительность | "для игр", "мощный", "не тормозит" |
| `storage` | Память | "много памяти", "256 ГБ" |
| `screen` | Экран | "большой экран", "AMOLED" |
| `compact` | Компактность | "небольшой", "в карман влезает" |
| `durability` | Прочность | "прочный", "водозащита" |

**Возможные значения use_case:**
| Код | Описание |
|-----|----------|
| `gaming` | Для игр |
| `photo` | Для фотографий |
| `work` | Для работы |
| `calls` | Только звонки |
| `child` | Для ребёнка |
| `elderly` | Для пожилого человека |

**Структура результата (JSON):**
```json
{
  "priorities": "array",
  "use_case": "string | null",
  "special_features": "array",
  "excluded": "array"
}
```

---

### Context Type 3: trade_in

| Поле | Значение |
|------|----------|
| **Код** | `trade_in` |
| **Название** | `Трейд-ин` |
| **Описание** | `Обмен старого телефона` |
| **Tier** | [x] small |

**Что извлекаем:**
```
Есть ли старый телефон
Модель старого телефона
Состояние старого
Хочет ли сдать в зачёт
```

**Структура результата (JSON):**
```json
{
  "has_trade_in": "boolean | null",
  "old_device": {
    "brand": "string | null",
    "model": "string | null"
  },
  "old_condition": "string | null",
  "wants_trade_in": "boolean | null"
}
```

---

### Context Type 4: payment_method

| Поле | Значение |
|------|----------|
| **Код** | `payment_method` |
| **Название** | `Способ оплаты` |
| **Описание** | `Как планирует платить` |
| **Tier** | [x] nano |

**Что извлекаем:**
```
Способ оплаты (наличные, карта, рассрочка)
С процентами или без (для рассрочки)
Подтверждённый бюджет
```

**Возможные значения method:**
| Код | Описание | Примеры |
|-----|----------|---------|
| `cash` | Наличные | "наличные", "наликом" |
| `card` | Карта | "картой", "безнал" |
| `installment` | Рассрочка | "в рассрочку", "без переплаты" |
| `credit` | Кредит | "в кредит" |
| `online` | Онлайн | "на сайте оплачу" |

**Структура результата (JSON):**
```json
{
  "method": "string | null",
  "installment_interest": "boolean | null",
  "budget_confirmed": "number | null"
}
```

---

### Context Type 5: delivery

| Поле | Значение |
|------|----------|
| **Код** | `delivery` |
| **Название** | `Доставка` |
| **Описание** | `Способ получения` |
| **Tier** | [x] nano |

**Что извлекаем:**
```
Способ получения
Город/адрес
Когда удобно
Срочность
```

**Возможные значения method:**
| Код | Описание |
|-----|----------|
| `pickup` | Самовывоз |
| `courier` | Курьер |
| `transport` | Транспортная компания |
| `post` | Почта |

**Структура результата (JSON):**
```json
{
  "method": "string | null",
  "city": "string | null",
  "address": "string | null",
  "preferred_time": "string | null",
  "urgent": "boolean | null"
}
```

---

## 3. ВОРОНКА (FUNNEL)

| # | Код | Название | Цель этапа | Behavior | Собираем контекст |
|---|-----|----------|------------|----------|-------------------|
| 1 | `lead` | Первый контакт | Понять что ищет | collect_info | device, purchase_intent |
| 2 | `needs` | Потребности | Выявить требования | collect_info | requirements, price_expectation |
| 3 | `recommendation` | Рекомендация | Предложить варианты | present_and_confirm | — |
| 4 | `trade_in` | Трейд-ин | Оценить старый | collect_info | trade_in |
| 5 | `presentation` | Итог | Финальная цена | present_and_confirm | — |
| 6 | `payment` | Оплата | Способ оплаты | collect_info | payment_method |
| 7 | `delivery` | Доставка | Способ получения | collect_info | delivery |
| 8 | `confirmation` | Подтверждение | Оформить заказ | terminal | — |

### Условия переходов

| Из этапа | В этап | Условие |
|----------|--------|---------|
| `lead` | `needs` | Понятно намерение |
| `needs` | `recommendation` | Есть requirements или price_expectation |
| `recommendation` | `trade_in` | Клиент выбрал модель + есть старый телефон |
| `recommendation` | `presentation` | Клиент выбрал модель, нет трейд-ин |
| `trade_in` | `presentation` | Оценён старый телефон |
| `presentation` | `payment` | Клиент согласен с ценой |
| `payment` | `delivery` | Выбран способ оплаты |
| `delivery` | `confirmation` | Выбран способ доставки |

---

## 4. ПРАВИЛА НОРМАЛИЗАЦИИ

### Нормализация для поля: purchase_intent.intent

| Что пишет клиент | Нормализуем в | Приоритет |
|------------------|---------------|-----------|
| `хочу посмотреть` | `just_looking` | 100 |
| `что есть` | `just_looking` | 90 |
| `покажите` | `just_looking` | 80 |
| `хочу купить` | `ready_to_buy` | 100 |
| `оформляйте` | `ready_to_buy` | 100 |
| `беру` | `ready_to_buy` | 90 |
| `закажу` | `ready_to_buy` | 90 |
| `что лучше` | `comparison` | 100 |
| `посоветуйте` | `feature_search` | 90 |
| `недорогой` | `budget_search` | 100 |
| `до ` | `budget_search` | 80 |
| `в пределах` | `budget_search` | 80 |

### Нормализация для поля: requirements.priorities

| Что пишет клиент | Нормализуем в | Приоритет |
|------------------|---------------|-----------|
| `камера` | `camera` | 100 |
| `фото` | `camera` | 90 |
| `видео` | `camera` | 80 |
| `батарея` | `battery` | 100 |
| `заряд` | `battery` | 90 |
| `долго держит` | `battery` | 80 |
| `игры` | `performance` | 100 |
| `мощный` | `performance` | 90 |
| `не тормозит` | `performance` | 80 |
| `память` | `storage` | 100 |
| `экран` | `screen` | 100 |
| `компактный` | `compact` | 100 |
| `маленький` | `compact` | 90 |
| `прочный` | `durability` | 100 |
| `водозащита` | `durability` | 90 |

### Нормализация для поля: requirements.use_case

| Что пишет клиент | Нормализуем в | Приоритет |
|------------------|---------------|-----------|
| `для игр` | `gaming` | 100 |
| `играть` | `gaming` | 90 |
| `для работы` | `work` | 100 |
| `рабочий` | `work` | 80 |
| `для ребенка` | `child` | 100 |
| `ребенку` | `child` | 100 |
| `маме` | `elderly` | 90 |
| `бабушке` | `elderly` | 100 |
| `пожилому` | `elderly` | 100 |
| `для фото` | `photo` | 100 |
| `фоткать` | `photo` | 90 |

### Нормализация для поля: payment_method.method

| Что пишет клиент | Нормализуем в | Приоритет |
|------------------|---------------|-----------|
| `наличные` | `cash` | 100 |
| `наликом` | `cash` | 100 |
| `картой` | `card` | 100 |
| `безнал` | `card` | 90 |
| `рассрочка` | `installment` | 100 |
| `без переплаты` | `installment` | 90 |
| `в рассрочку` | `installment` | 100 |
| `кредит` | `credit` | 100 |
| `в кредит` | `credit` | 100 |

---

## 5. ПРИМЕРЫ ДИАЛОГОВ

### Пример 1: Конкретная модель

**Клиент:**
```
Привет! Есть iPhone 15 Pro 256 гб? Сколько стоит?
```

**Извлечённый контекст:**
```json
{
  "device": {"brand": "Apple", "model": "iPhone 15 Pro", "storage": 256},
  "purchase_intent": {"intent": "specific_model", "specific_model": "iPhone 15 Pro 256GB", "readiness": "high"}
}
```

**Этап воронки:** `lead` → `presentation`

---

### Пример 2: По бюджету с требованиями

**Клиент:**
```
Ищу телефон до 30 тысяч с хорошей камерой для мамы, чтобы несложный был
```

**Извлечённый контекст:**
```json
{
  "purchase_intent": {"intent": "budget_search", "readiness": "medium"},
  "price_expectation": {"max": 30000, "category": "budget"},
  "requirements": {
    "priorities": ["camera"],
    "use_case": "elderly",
    "special_features": ["простой интерфейс"]
  }
}
```

**Этап воронки:** `lead` → `needs` → `recommendation`

---

### Пример 3: С трейд-ин

**Клиент:**
```
Хочу поменять свой самсунг S21 на что-то новое, можно в зачёт сдать? В хорошем состоянии
```

**Извлечённый контекст:**
```json
{
  "purchase_intent": {"intent": "brand_preference", "readiness": "high", "is_replacement": true},
  "trade_in": {
    "has_trade_in": true,
    "old_device": {"brand": "Samsung", "model": "Galaxy S21"},
    "old_condition": "good",
    "wants_trade_in": true
  }
}
```

**Этап воронки:** `lead` → `trade_in`

---

### Пример 4: Сравнение

**Клиент:**
```
Что лучше взять — Xiaomi 14 или iPhone 15? Для игр в основном
```

**Извлечённый контекст:**
```json
{
  "purchase_intent": {"intent": "comparison", "readiness": "medium"},
  "requirements": {"priorities": ["performance"], "use_case": "gaming"}
}
```

**Этап воронки:** `lead` → `needs`

---

### Пример 5: Готов к покупке

**Клиент:**
```
Galaxy S24 Ultra, можно в рассрочку без переплаты? Доставка в Краснодар
```

**Извлечённый контекст:**
```json
{
  "device": {"brand": "Samsung", "model": "Galaxy S24 Ultra"},
  "purchase_intent": {"intent": "specific_model", "readiness": "high"},
  "payment_method": {"method": "installment", "installment_interest": false},
  "delivery": {"method": "courier", "city": "Краснодар"}
}
```

**Этап воронки:** `lead` → `payment`

---

## 6. ОСОБЕННОСТИ ВЕРТИКАЛИ

**Что важно учесть:**
```
- Новые vs б/у телефоны — разные цены и ожидания
- Трейд-ин может сильно влиять на итоговую цену
- Рассрочка — частый запрос, нужна интеграция с банками
- Сравнение моделей — требует знания характеристик
```

**Частые вопросы клиентов:**
```
1. Есть [модель] в наличии?
2. Сколько стоит? Есть скидки?
3. Можно в рассрочку/кредит?
4. Можно сдать старый в зачёт?
5. Как доставляете? Когда будет?
```

**Что НЕ нужно извлекать на начальном этапе:**
```
- IMEI (нужен только при оформлении)
- Точный адрес (нужен на этапе доставки)
- Паспортные данные (для рассрочки — позже)
```

---

## 7. ЗАМЕТКИ / ОБСУЖДЕНИЕ

```
Вопросы:
1. Как обрабатывать запрос на несуществующую модель?
2. Нужен ли отдельный context type для "аксессуары"?
3. Как интегрировать с программой лояльности?

TODO:
- [ ] Интеграция с остатками
- [ ] Калькулятор рассрочки
- [ ] Сравнение характеристик
- [ ] Оценка трейд-ин автоматически
```

---

## СТАТУС

- [x] Базовая информация
- [x] Context types (5 шт)
- [x] Воронка и переходы
- [x] Правила нормализации
- [x] Примеры диалогов
- [x] Особенности вертикали
- [ ] **ОЖИДАЕТ ПРОВЕРКИ**

**Заполнил:** Claude
**Дата:** 2026-01-04

---

*Вертикаль: phone_sales | Готов к обсуждению*
